{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelDynamic as _vModelDynamic, normalizeClass as _normalizeClass, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form5\"\n};\nconst _hoisted_2 = {\n  class: \"contact-banner\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"contact-content\"\n};\nconst _hoisted_5 = {\n  class: \"contact-info\"\n};\nconst _hoisted_6 = [\"type\", \"placeholder\", \"onUpdate:modelValue\", \"onFocus\", \"onBlur\"];\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_8 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: `${$data.publicPath}images/contact-bg.png`,\n    alt: \"Contact background\",\n    class: \"contact-image\"\n  }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, [_createTextVNode(\"Оцените условия труда \"), _createElementVNode(\"br\"), _createTextVNode(\" в вашей компании\")], -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"p\", null, \"Оставьте заявку и мы свяжемся с вами\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['name', 'phone', 'email'], (field, key) => {\n    return _createElementVNode(\"div\", {\n      class: \"contact-item\",\n      key: key\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: key === 'phone' ? 'tel' : key,\n      placeholder: key === 'name' ? 'Имя' : key === 'phone' ? '+7 (777) 777-77-77' : 'Почта',\n      \"onUpdate:modelValue\": $event => $data.form[key] = $event,\n      class: _normalizeClass({\n        'error': $data.errors[key]\n      }),\n      onFocus: $event => $options.onFocus(key),\n      onBlur: $event => $options.onBlur(key)\n    }, null, 42 /* CLASS, PROPS, NEED_HYDRATION */, _hoisted_6), [[_vModelDynamic, $data.form[key]]]), $data.errors[key] ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString($data.errors[key]), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n  }), 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"button\", {\n    class: \"contact-button\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.submitForm && $options.submitForm(...args)),\n    disabled: $data.isSubmitting,\n    onMouseenter: _cache[1] || (_cache[1] = $event => $data.buttonHover = true),\n    onMouseleave: _cache[2] || (_cache[2] = $event => $data.buttonHover = false)\n  }, [_createElementVNode(\"span\", {\n    class: _normalizeClass({\n      'sending': $data.isSubmitting\n    })\n  }, _toDisplayString($data.isSubmitting ? 'Отправка...' : 'Получить консультацию'), 3 /* TEXT, CLASS */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_8)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","$data","publicPath","alt","_hoisted_4","_hoisted_5","_Fragment","_renderList","field","key","type","placeholder","form","$event","_normalizeClass","errors","onFocus","$options","onBlur","_hoisted_7","_toDisplayString","onClick","_cache","args","submitForm","disabled","isSubmitting","onMouseenter","buttonHover","onMouseleave"],"sources":["C:\\Users\\Zemek\\OneDrive\\Desktop\\IP_Belkin_final_stage\\frontend\\src\\components\\FormFive.vue"],"sourcesContent":["<template>\r\n  <section class=\"form5\">\r\n    <div class=\"contact-banner\">\r\n      <img :src=\"`${publicPath}images/contact-bg.png`\" alt=\"Contact background\" class=\"contact-image\" />\r\n      <div class=\"contact-content\">\r\n        <h2>Оцените условия труда <br /> в вашей компании</h2>\r\n        <p>Оставьте заявку и мы свяжемся с вами</p>\r\n        <div class=\"contact-info\">\r\n          <div class=\"contact-item\" v-for=\"(field, key) in ['name', 'phone', 'email']\" :key=\"key\">\r\n            <input\r\n              :type=\"key === 'phone' ? 'tel' : key\"\r\n              :placeholder=\"key === 'name' ? 'Имя' : key === 'phone' ? '+7 (777) 777-77-77' : 'Почта'\"\r\n              v-model=\"form[key]\"\r\n              :class=\"{ 'error': errors[key] }\"\r\n              @focus=\"onFocus(key)\"\r\n              @blur=\"onBlur(key)\"\r\n            />\r\n            <span v-if=\"errors[key]\" class=\"error-message\">{{ errors[key] }}</span>\r\n          </div>\r\n          <button \r\n            class=\"contact-button\" \r\n            @click=\"submitForm\" \r\n            :disabled=\"isSubmitting\"\r\n            @mouseenter=\"buttonHover = true\"\r\n            @mouseleave=\"buttonHover = false\"\r\n          >\r\n            <span :class=\"{ 'sending': isSubmitting }\">\r\n              {{ isSubmitting ? 'Отправка...' : 'Получить консультацию' }}\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FormFive',\r\n  data() {\r\n    return {\r\n      form: { name: '', phone: '', email: '' },\r\n      errors: { name: '', phone: '', email: '' },\r\n      isSubmitting: false,\r\n      buttonHover: false,\r\n      publicPath: process.env.BASE_URL\r\n    };\r\n  },\r\n  mounted() {\r\n    this.setupScrollAnimation();\r\n  },\r\n  methods: {\r\n    setupScrollAnimation() {\r\n      const observer = new IntersectionObserver((entries) => {\r\n        entries.forEach(entry => {\r\n          if (entry.isIntersecting) {\r\n            const content = entry.target.querySelector('.contact-content');\r\n            content.style.transition = 'all 0.9s ease-out';\r\n            content.style.opacity = '1';\r\n            content.style.transform = 'translateY(0)';\r\n            observer.unobserve(entry.target);\r\n          }\r\n        });\r\n      }, { threshold: 0.3 });\r\n\r\n      this.$nextTick(() => observer.observe(this.$el));\r\n    },\r\n    onFocus(field) { this.focusedField = field; },\r\n    onBlur() { this.focusedField = null; },\r\n    sanitizeInput(input) {\r\n      const div = document.createElement('div');\r\n      div.textContent = input;\r\n      return div.innerHTML;\r\n    },\r\n    validateForm() {\r\n      this.errors = { name: '', phone: '', email: '' };\r\n      let isValid = true;\r\n\r\n      const nameRegex = /^[a-zA-Zа-яА-Я\\s-]{2,50}$/;\r\n      if (!this.form.name.trim()) this.errors.name = 'Введите имя', isValid = false;\r\n      else if (!nameRegex.test(this.form.name.trim())) this.errors.name = 'Имя: 2–50 букв', isValid = false;\r\n\r\n      const phoneRegex = /^\\+?\\d{10,15}$/;\r\n      if (!this.form.phone.trim()) this.errors.phone = 'Введите телефон', isValid = false;\r\n      else if (!phoneRegex.test(this.form.phone.replace(/\\D/g, ''))) this.errors.phone = 'Некорректный номер', isValid = false;\r\n\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!this.form.email.trim()) this.errors.email = 'Введите email', isValid = false;\r\n      else if (!emailRegex.test(this.form.email)) this.errors.email = 'Некорректный email', isValid = false;\r\n\r\n      return isValid;\r\n    },\r\n    async submitForm() {\r\n      if (!this.validateForm()) return;\r\n      this.isSubmitting = true;\r\n\r\n      const sanitizedForm = {\r\n        name: this.sanitizeInput(this.form.name.trim()),\r\n        phone_number: this.sanitizeInput(this.form.phone.trim()),\r\n        email: this.sanitizeInput(this.form.email.trim())\r\n      };\r\n\r\n      try {\r\n        const response = await fetch(\"http://212.192.127.152:9000/data/\", {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(sanitizedForm)\r\n        });\r\n\r\n        if (!response.ok) throw new Error('Ошибка отправки');\r\n        alert('Заявка отправлена!');\r\n        this.form = { name: '', phone: '', email: '' };\r\n      } catch (error) {\r\n        alert('Ошибка: ' + error.message);\r\n      } finally {\r\n        this.isSubmitting = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Существующие стили */\r\n.form5 {\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.contact-banner {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 60vh;\r\n  max-height: 500px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #4a90e2;\r\n}\r\n\r\n.contact-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  z-index: 0;\r\n  filter: brightness(65%);\r\n}\r\n\r\n.contact-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  text-align: center;\r\n  color: #fff;\r\n  padding: 20px;\r\n\r\n  opacity: 0;\r\n  transform: translateY(30px);\r\n}\r\n\r\n.contact-content h2 {\r\n  font-family: 'Nekst-SemiBold', sans-serif;\r\n  font-size: clamp(2.9rem, 4.3vw, 4.5rem);\r\n  margin-bottom: 2vh;\r\n  line-height: 1.1;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\r\n}\r\n\r\n.contact-content p {\r\n  font-family: 'Nekst-Medium', sans-serif;\r\n  font-size: clamp(1.2rem, 1.7vw, 2rem);\r\n  margin-bottom: 3vh;\r\n  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.contact-info {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.contact-item {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  color: #1a202c;\r\n  width: 23%;\r\n  padding: clamp(8px, 1.5vw, 12px);\r\n  padding-left: 1vw;\r\n  border-radius: 25px;\r\n  font-family: 'Nekst-Light', sans-serif;\r\n  font-size: clamp(14px, 1.5vw, 16px);\r\n  text-align: left;\r\n\r\n  transition: all 0.4s ease;\r\n  position: relative;\r\n}\r\n\r\n.contact-item::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: linear-gradient(135deg, rgba(85, 82, 232, 0.1), transparent);\r\n  border-radius: 25px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.contact-item input:focus + .contact-item::before,\r\n.contact-item:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.contact-item input {\r\n  background: none;\r\n  border: none;\r\n  width: 100%;\r\n  font-family: 'Nekst-Light', sans-serif;\r\n  font-size: clamp(14px, 1.5vw, 16px);\r\n  color: #1a202c;\r\n  text-align: left;\r\n  outline: none;\r\n\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.contact-item input:focus {\r\n  transform: scale(1.02);\r\n  font-weight: 500;\r\n}\r\n\r\n.contact-button {\r\n  background-color: #5552e8;\r\n  color: #fff;\r\n  border: none;\r\n  padding: clamp(8px, 1.5vw, 12px) clamp(20px, 2.5vw, 25px);\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  font-size: clamp(14px, 1.5vw, 16px);\r\n  transition: background-color 0.3s;\r\n  font-family: 'Nekst-Medium', sans-serif;\r\n  text-decoration: none;\r\n\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.contact-button:hover {\r\n  background-color: #5a67d8;\r\n}\r\n\r\n.contact-button:disabled {\r\n  background-color: #a0a0a0;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Стили для ошибок */\r\n.error {\r\n  border: 1px solid #ff4d4f;\r\n}\r\n\r\n.error-message {\r\n  color: #ff4d4f;\r\n  font-size: clamp(12px, 1vw, 14px);\r\n  margin-top: 5px;\r\n  display: block;\r\n}\r\n\r\n.contact-content {\r\n  opacity: 0;\r\n  transform: translateY(30px);\r\n}\r\n\r\n.contact-item {\r\n  transition: all 0.4s ease;\r\n  position: relative;\r\n}\r\n\r\n.contact-item::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: linear-gradient(135deg, rgba(85, 82, 232, 0.1), transparent);\r\n  border-radius: 25px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  pointer-events: none;\r\n}\r\n\r\n.contact-item input:focus + .contact-item::before,\r\n.contact-item:hover::before {\r\n  opacity: 1;\r\n}\r\n\r\n.contact-item input:focus {\r\n  transform: scale(1.02);\r\n  font-weight: 500;\r\n}\r\n\r\n.contact-button {\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n}\r\n\r\n.contact-button::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 50%; left: 50%;\r\n  width: 0; height: 0;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  transform: translate(-50%, -50%);\r\n  transition: width 0.6s ease, height 0.6s ease;\r\n}\r\n\r\n.contact-button:hover::after {\r\n  width: 300px;\r\n  height: 300px;\r\n}\r\n\r\n.contact-button:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 12px 25px rgba(85, 82, 232, 0.4);\r\n}\r\n\r\n.contact-button.sending span {\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.7; }\r\n}\r\n\r\n/* Адаптивность для мобильных устройств */\r\n@media (max-width: 768px) {\r\n  .contact-banner {\r\n    height: 60vh;\r\n    max-height: 350px;\r\n  }\r\n\r\n  .contact-content h2 {\r\n    font-size: clamp(1.2rem, 2.5vw, 1.8rem);\r\n  }\r\n\r\n  .contact-content p {\r\n    font-size: clamp(0.9rem, 1.2vw, 1.2rem);\r\n  }\r\n\r\n  .contact-info {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .contact-item {\r\n    width: 80%;\r\n    font-size: clamp(12px, 1.2vw, 14px);\r\n    padding: clamp(6px, 1vw, 10px) clamp(15px, 2vw, 20px);\r\n  }\r\n\r\n  .contact-button {\r\n    font-size: clamp(14px, 1.8vw, 24px);\r\n    padding: clamp(6px, 1vw, 10px) clamp(15px, 2vw, 20px);\r\n  }\r\n}\r\n</style>"],"mappings":";;EACWA,KAAK,EAAC;AAAO;;EACfA,KAAK,EAAC;AAAgB;;;EAEpBA,KAAK,EAAC;AAAiB;;EAGrBA,KAAK,EAAC;AAAc;;;;EAUIA,KAAK,EAAC;;;;uBAhBzCC,mBAAA,CAgCU,WAhCVC,UAgCU,GA/BRC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJD,mBAAA,CAAkG;IAA5FE,GAAG,KAAKC,KAAA,CAAAC,UAAU;IAAyBC,GAAG,EAAC,oBAAoB;IAACR,KAAK,EAAC;uCAChFG,mBAAA,CA2BM,OA3BNM,UA2BM,G,0BA1BJN,mBAAA,CAAsD,a,iBAAlD,wBAAsB,GAAAA,mBAAA,CAAM,O,iBAAA,mBAAiB,E,gDACjDA,mBAAA,CAA2C,WAAxC,sCAAoC,sBACvCA,mBAAA,CAuBM,OAvBNO,UAuBM,I,cAtBJT,mBAAA,CAUMU,SAAA,QAAAC,WAAA,CAV2C,0BAA0B,GAAzCC,KAAK,EAAEC,GAAG;WAA5CX,mBAAA,CAUM;MAVDH,KAAK,EAAC,cAAc;MAAqDc,GAAG,EAAEA;wBACjFX,mBAAA,CAOE;MANCY,IAAI,EAAED,GAAG,uBAAuBA,GAAG;MACnCE,WAAW,EAAEF,GAAG,sBAAsBA,GAAG;uCACjCR,KAAA,CAAAW,IAAI,CAACH,GAAG,IAAAI,MAAA;MAChBlB,KAAK,EAAAmB,eAAA;QAAA,SAAab,KAAA,CAAAc,MAAM,CAACN,GAAG;MAAA;MAC5BO,OAAK,EAAAH,MAAA,IAAEI,QAAA,CAAAD,OAAO,CAACP,GAAG;MAClBS,MAAI,EAAAL,MAAA,IAAEI,QAAA,CAAAC,MAAM,CAACT,GAAG;mFAHRR,KAAA,CAAAW,IAAI,CAACH,GAAG,G,GAKPR,KAAA,CAAAc,MAAM,CAACN,GAAG,K,cAAtBb,mBAAA,CAAuE,QAAvEuB,UAAuE,EAAAC,gBAAA,CAArBnB,KAAA,CAAAc,MAAM,CAACN,GAAG,qB;kCAE9DX,mBAAA,CAUS;IATPH,KAAK,EAAC,gBAAgB;IACrB0B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEN,QAAA,CAAAO,UAAA,IAAAP,QAAA,CAAAO,UAAA,IAAAD,IAAA,CAAU;IACjBE,QAAQ,EAAExB,KAAA,CAAAyB,YAAY;IACtBC,YAAU,EAAAL,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAEZ,KAAA,CAAA2B,WAAW;IACvBC,YAAU,EAAAP,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAEZ,KAAA,CAAA2B,WAAW;MAExB9B,mBAAA,CAEO;IAFAH,KAAK,EAAAmB,eAAA;MAAA,WAAeb,KAAA,CAAAyB;IAAY;sBAClCzB,KAAA,CAAAyB,YAAY,kE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}